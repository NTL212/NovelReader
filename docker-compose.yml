services:
  shonovel-reader:
    build: .
    container_name: shonovel-reader
    ports:
      - "8000:8000"
    volumes:
      # Mount thư mục dữ liệu Light Novels từ workspace
      - /home/ubuntu/.openclaw/workspace/projects/light-novels:/home/ubuntu/.openclaw/workspace/projects/light-novels
      # Mount file titles.py để cập nhật metadata mà không cần rebuild
      - /home/ubuntu/.openclaw/workspace/projects/shonovel-reader/titles.py:/app/titles.py
    restart: unless-stopped
    depends_on:
      - redis

  redis:
    image: redis:alpine
    container_name: shonovel-redis
